{"prefixes": "prefix hal: <http:\/\/data.archives-ouvertes.fr\/schema\/> prefix vcard2006: <http:\/\/www.w3.org\/2006\/vcard\/ns#> prefix ns8:\t<http:\/\/fr.dbpedia.org\/resource\/> prefix org: <http:\/\/www.w3.org\/ns\/org#> prefix skos: <http:\/\/www.w3.org\/2004\/02\/skos\/core#> prefix dcterms: <http:\/\/purl.org\/dc\/terms\/> prefix fabio: <http:\/\/purl.org\/spar\/fabio\/> prefix ore:\t<http:\/\/www.openarchives.org\/ore\/terms\/> prefix dc: <http:\/\/purl.org\/dc\/elements\/1.1\/>", 
"query_authors": "select distinct ?uri ?name where { ?doc dcterms:creator [hal:person ?uri ; hal:structure ?etab ] . ?etab skos:prefLabel ?lab ; skos:altLabel \"$lab\" . ?uri foaf:name ?name . } limit 10",
"query_docs_old": "select distinct ?author ?doc ?name str(?title) as ?title str(?versionOf) as ?versionOf xsd:date(?issued) as ?issuedAt ?lab ?labName ?type replace(str(?country), 'http://fr.dbpedia.org/resource/', '') AS ?country concat(str(xsd:date(?available)), '') as ?availableAt concat(str(?address), '') as ?address ?citation ?authorList ?typeCode ?typeLabel ?hal where { {select * where { ?doc dcterms:issued ?issued; dcterms:creator [ hal:person ?author; hal:structure ?lab ] ; dcterms:type ?type ; dcterms:bibliographicCitation ?c ; dcterms:identifier ?hal . filter strstarts(str(?hal), \"https://hal.archives-ouvertes.fr/\") ?type dc:identifier ?typeCode ; skos:prefLabel ?typeLabel . filter langMatches(lang(?typeLabel), 'en') ?author foaf:name ?name . optional { ?doc dcterms:available ?available } optional { ?doc dcterms:title ?title } optional { ?doc dcterms:isVersionOf ?versionOf } ?lab skos:prefLabel ?labName; vcard2006:country-name ?country. optional { ?lab org:siteAddress ?address } bind(replace(str(?c),',','--') as ?citation) . filter (?author = <$uri>) } }{ select ?doc (group_concat(?coauthor ; separator='&&') as ?authorList) where {?doc dcterms:creator [ hal:person ?coauthorURI ] . ?coauthorURI foaf:name ?name . bind(concat(?name, '&', ?coauthorURI) AS ?coauthor) } group by ?doc } } limit 10000 offset $offset",
"query_docs": "select * where { service <http://sparql.archives-ouvertes.fr/sparql> {{select * where { ?doc dcterms:issued ?issued; dcterms:creator [ hal:person ?author; hal:structure ?lab ] ; dcterms:type ?type ; dcterms:bibliographicCitation ?c ; dcterms:title ?title ; dcterms:identifier ?hal . filter strstarts(str(?hal), \"https://hal.archives-ouvertes.fr/\") ?type dc:identifier ?typeCode ; skos:prefLabel ?typeLabel . filter langMatches(lang(?typeLabel), 'en') ?author foaf:name ?name . optional { ?doc dcterms:isVersionOf ?versionOf } ?lab skos:prefLabel ?labName; vcard2006:country-name ?countryURI . optional { ?lab org:siteAddress ?address } bind(replace(str(?c),',','--') as ?citation) . filter (?author = <$uri>) } } { select ?doc (group_concat(?coauthor ; separator='&&') as ?authorList) where { ?doc dcterms:creator [ hal:person ?coauthorURI ] . ?coauthorURI foaf:name ?name . bind(concat(?name, '&', ?coauthorURI) AS ?coauthor) } group by ?doc }  } service <http://fr.dbpedia.org/sparql> { ?countryURI rdfs:label ?country .filter langMatches(lang(?country), \"en\") } } limit 10000 offset $offset",
"query_institutions": "select distinct ?strURI ?strName ?strType ?strURL ?parentURI ?parentName ?parentType replace(str(?country), 'http://fr.dbpedia.org/resource/', '') AS ?country where { ?doc dcterms:creator ?author . ?author hal:structure ?strURI . ?strURI skos:prefLabel ?strName ; org:classification ?strType ; vcard2006:url ?strURL ; vcard2006:country-name ?country . optional { ?strURI org:unitOf ?parentURI . ?parentURI org:classification ?parentType ; skos:prefLabel ?parentName . } } limit 10000 offset $offset"
}